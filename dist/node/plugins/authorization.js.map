{"version":3,"sources":["../../../src/plugins/authorization.js"],"names":["base64encode","require","module","exports","input","headers","clientOptions","token","username","password","auth","Promise","resolve"],"mappings":";;;;;;AAAA,IAAMA,eAAeC,QAAQ,yBAAR,CAArB;;AAEAC,OAAOC,OAAP,GAAiB;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,2CACSC,KADT,EACgB;AAC7B,UAAIA,MAAMC,OAAN,IAAiB,IAArB,EAA2B;AAAED,cAAMC,OAAN,GAAgB,EAAhB;AAAoB;AADpB,UAExBA,OAFwB,GAE+BD,KAF/B,CAExBC,OAFwB;AAAA,iCAE+BD,KAF/B,CAEfE,aAFe;AAAA,UAECC,KAFD,wBAECA,KAFD;AAAA,UAEQC,QAFR,wBAEQA,QAFR;AAAA,UAEkBC,QAFlB,wBAEkBA,QAFlB;;AAG7B,UAAIF,SAAUC,YAAYC,QAA1B,EAAqC;AACnC,YAAIF,KAAJ,EAAW;AACT,cAAIG,kBAAgBH,KAApB;AACD,SAFD,MAEO;AACL,cAAIG,kBAAgBV,aAAgBQ,QAAhB,SAA4BC,QAA5B,CAApB;AACD;AACDL,cAAMC,OAAN,CAAc,eAAd,IAAiCK,IAAjC;AACD;AACD,aAAOC,QAAQC,OAAR,CAAgBR,KAAhB,CAAP;AACD;AAbc;;AAAA;AAAA,MAAjB","file":"authorization.js","sourcesContent":["const base64encode = require('../adapters/base64-node')\n\nmodule.exports = new class Authorization {\n  requestMiddlewareAsync (input) {\n    if (input.headers == null) { input.headers = {} }\n    let {headers, clientOptions: {token, username, password}} = input\n    if (token || (username && password)) {\n      if (token) {\n        var auth = `token ${token}`\n      } else {\n        var auth = `Basic ${base64encode(`${username}:${password}`)}`\n      }\n      input.headers['Authorization'] = auth\n    }\n    return Promise.resolve(input)\n  }\n}()\n"]}